<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="vi">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Liên hệ - Activewear Store</title>
    <link th:href="@{/css/home.css}" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <h1><i class="fas fa-dumbbell"></i> Activewear Store</h1>
                </div>
                <div class="search-bar">
                    <form th:action="@{/tim-kiem}" method="get">
                        <input type="text" name="q" placeholder="Tìm kiếm sản phẩm..." th:value="${keyword}">
                        <button type="submit"><i class="fas fa-search"></i></button>
                    </form>
                </div>
                <div class="header-actions">
                    <a th:href="@{/gio-hang}" class="cart-btn">
                        <i class="fas fa-shopping-cart"></i> Giỏ hàng
                        <span class="cart-count" th:if="${cartItemCount > 0}" th:text="${cartItemCount}">0</span>
                    </a>
                    
                    <!-- Hiển thị khi chưa đăng nhập -->
                    <a th:href="@{/dang-nhap}" class="login-btn" th:if="${currentUser == null or !currentUser.isAuthenticated() or currentUser.name == 'anonymousUser'}">
                        <i class="fas fa-user"></i> Đăng nhập
                    </a>
                    
                    <!-- Hiển thị khi đã đăng nhập -->
                    <div class="user-menu" th:if="${currentUser != null and currentUser.isAuthenticated() and currentUser.name != 'anonymousUser'}">
                        <span class="welcome-text">Xin chào, <span th:text="${currentUser.name}">User</span></span>
                        <div class="dropdown">
                            <button class="user-btn">
                                <i class="fas fa-user-circle"></i>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="dropdown-menu">
                                <a th:href="@{/thong-tin-ca-nhan}"><i class="fas fa-user"></i> Thông tin cá nhân</a>
                                <a th:href="@{/don-hang-cua-toi}"><i class="fas fa-shopping-bag"></i> Đơn hàng của tôi</a>
                                <a th:href="@{/yeu-thich}"><i class="fas fa-heart"></i> Yêu thích</a>
                                <div sec:authorize="hasRole('Admin')" class="dropdown-divider"></div>
                                <a sec:authorize="hasRole('Admin')" th:href="@{/admin/dashboard}"><i class="fas fa-cogs"></i> Quản lý Admin</a>
                                <div class="dropdown-divider"></div>
                                <a th:href="@{/dang-xuat}"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a th:href="@{/}">Trang chủ</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Danh mục <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li th:each="danhMuc : ${danhMucCha}" th:if="${danhMucCha != null and !danhMucCha.isEmpty()}">
                                <a th:href="@{/danh-muc/{id}(id=${danhMuc.id})}" th:text="${danhMuc.ten}">Tên danh mục</a>
                            </li>
                            <li th:if="${danhMucCha == null or danhMucCha.isEmpty()}">
                                <a href="#" style="color: #999; cursor: default;">Chưa có danh mục</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Thương hiệu <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li th:each="brand : ${thuongHieu}" th:if="${thuongHieu != null and !thuongHieu.isEmpty()}">
                                <a th:href="@{/thuong-hieu/{id}(id=${brand.id})}" th:text="${brand.ten}">Tên thương hiệu</a>
                            </li>
                            <li th:if="${thuongHieu == null or thuongHieu.isEmpty()}">
                                <a href="#" style="color: #999; cursor: default;">Chưa có thương hiệu</a>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#khuyen-mai">Khuyến mãi</a></li>
                    <li><a th:href="@{/lien-he}">Liên hệ</a></li>
                </ul>
		</nav>
        </div>
	</header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="container">
            <a th:href="@{/}">Trang chủ</a>
            <span>/</span>
            <span>Liên hệ</span>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <h1>Liên hệ với chúng tôi</h1>
                <p>Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn. Hãy liên hệ với chúng tôi qua các kênh dưới đây.</p>
            </div>

            <!-- Flash Messages -->
            <div th:if="${success}" class="alert alert-success">
                <i class="fas fa-check-circle"></i>
                <span th:text="${success}">Success message</span>
            </div>
            <div th:if="${error}" class="alert alert-error">
                <i class="fas fa-exclamation-circle"></i>
                <span th:text="${error}">Error message</span>
            </div>

            <div class="contact-content">
                <!-- Contact Info Cards -->
                <div class="contact-info">
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="info-content">
                            <h3>Địa chỉ</h3>
                            <p>123 Đường ABC, Quận 1<br>TP. Hồ Chí Minh, Việt Nam</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="info-content">
                            <h3>Điện thoại</h3>
                            <p>Hotline: 0123 456 789<br>Mobile: 0901 234 567</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="info-content">
                            <h3>Email</h3>
                            <p>datnfpolysd45@gmail.com<br>support@activewear.com</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="info-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="info-content">
                            <h3>Giờ làm việc</h3>
                            <p>Thứ 2 - Thứ 6: 8:00 - 18:00<br>Thứ 7 - CN: 9:00 - 17:00</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Form and Map -->
                <div class="contact-form-section">
                    <!-- Contact Form -->
                    <div class="contact-form-card">
                        <h2><i class="fas fa-paper-plane"></i> Gửi tin nhắn cho chúng tôi</h2>
                        <form class="contact-form" id="contactForm" th:action="@{/lien-he/gui-tin-nhan}" method="post">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="hoTen">Họ và tên *</label>
                                    <input type="text" id="hoTen" name="hoTen" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email *</label>
                                    <input type="email" id="email" name="email" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="soDienThoai">Số điện thoại</label>
                                    <input type="tel" id="soDienThoai" name="soDienThoai">
                                </div>
                                <div class="form-group">
                                    <label for="chuDe">Chủ đề</label>
                                    <select id="chuDe" name="chuDe">
                                        <option value="">-- Chọn chủ đề --</option>
                                        <option value="hoi-dap">Hỏi đáp sản phẩm</option>
                                        <option value="dat-hang">Đặt hàng</option>
                                        <option value="doi-tra">Đổi trả</option>
                                        <option value="khac">Khác</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="noiDung">Nội dung tin nhắn *</label>
                                <textarea id="noiDung" name="noiDung" rows="5" placeholder="Hãy mô tả chi tiết vấn đề hoặc câu hỏi của bạn..." required></textarea>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-paper-plane"></i> Gửi tin nhắn
                                </button>
                                <button type="reset" class="btn btn-secondary">
                                    <i class="fas fa-redo"></i> Làm mới
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Map -->
                    <div class="map-card">
                        <h2><i class="fas fa-map"></i> Vị trí cửa hàng</h2>
                        <div class="map-container">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3919.3253119128!2d106.7004233153328!3d10.776611992319!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752f4b90b9579d%3A0x8a4b8b8b8b8b8b8b!2sDistrict%201%2C%20Ho%20Chi%20Minh%20City%2C%20Vietnam!5e0!3m2!1sen!2s!4v1234567890123!5m2!1sen!2s"
                                width="100%" 
                                height="300" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                </div>

                <!-- FAQ Section -->
                <div class="faq-section">
                    <h2><i class="fas fa-question-circle"></i> Câu hỏi thường gặp</h2>
                    <div class="faq-list">
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>Làm thế nào để đặt hàng?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Bạn có thể đặt hàng trực tiếp trên website bằng cách thêm sản phẩm vào giỏ hàng và tiến hành thanh toán. Hoặc gọi hotline 1900 1234 để được hỗ trợ đặt hàng.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>Thời gian giao hàng là bao lâu?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Đối với khu vực TP.HCM: 1-2 ngày làm việc. Các tỉnh thành khác: 3-5 ngày làm việc. Miễn phí giao hàng cho đơn hàng từ 500.000đ.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>Chính sách đổi trả như thế nào?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Chúng tôi hỗ trợ đổi trả trong vòng 7 ngày kể từ ngày nhận hàng. Sản phẩm phải còn nguyên vẹn, chưa qua sử dụng và có hóa đơn mua hàng.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>Làm sao để kiểm tra tình trạng đơn hàng?</h3>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>Bạn có thể đăng nhập vào tài khoản và vào mục "Đơn hàng" để theo dõi tình trạng đơn hàng. Hoặc liên hệ hotline để được hỗ trợ.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Activewear Store</h3>
                    <p>Chuyên cung cấp quần áo thể thao chất lượng cao với giá cả hợp lý.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Danh mục</h4>
                    <ul>
                        <li><a href="#">Áo thun</a></li>
                        <li><a href="#">Quần short</a></li>
                        <li><a href="#">Giày thể thao</a></li>
                        <li><a href="#">Phụ kiện</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Hỗ trợ</h4>
                    <ul>
                        <li><a href="#">Hướng dẫn mua hàng</a></li>
                        <li><a href="#">Chính sách đổi trả</a></li>
                        <li><a href="#">Bảo hành</a></li>
                        <li><a th:href="@{/lien-he}">Liên hệ</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Liên hệ</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> 0123 456 789</p>
                        <p><i class="fas fa-envelope"></i> datnfpolysd45@gmail.com</p>
                        <p><i class="fas fa-map-marker-alt"></i> 123 Đường ABC, Quận 1, TP.HCM</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Activewear Store. Tất cả quyền được bảo lưu.</p>
            </div>
        </div>
    </footer>

    <script>
        // Auto-hide alerts after 5 seconds
        setTimeout(function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 300);
            });
        }, 5000);

        // Contact form submission
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Đang gửi...';
            submitBtn.disabled = true;
            
            // Form will submit normally to the server
        });

        // FAQ toggle functionality
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function() {
                const faqItem = this.parentElement;
                const answer = faqItem.querySelector('.faq-answer');
                const icon = this.querySelector('i');
                
                // Toggle active class
                faqItem.classList.toggle('active');
                
                // Toggle answer visibility
                if (faqItem.classList.contains('active')) {
                    answer.style.maxHeight = answer.scrollHeight + 'px';
                    icon.style.transform = 'rotate(180deg)';
                } else {
                    answer.style.maxHeight = '0';
                    icon.style.transform = 'rotate(0deg)';
                }
            });
        });

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const dropdowns = document.querySelectorAll('.dropdown');
            dropdowns.forEach(dropdown => {
                // Chỉ add event listener cho dropdown button, không phải toàn bộ dropdown
                const dropdownBtn = dropdown.querySelector('.user-btn, .dropdown-toggle');
                if (dropdownBtn) {
                    dropdownBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        // Đóng tất cả dropdown khác
                        dropdowns.forEach(otherDropdown => {
                            if (otherDropdown !== dropdown) {
                                otherDropdown.classList.remove('active');
                            }
                        });
                        // Toggle dropdown hiện tại
                        dropdown.classList.toggle('active');
                    });
                }
            });

            // Đóng dropdown khi click bên ngoài
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.dropdown')) {
                    dropdowns.forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    // Skip if href is just "#" or empty
                    if (href === '#' || href.length <= 1) {
                        e.preventDefault();
                        return;
                    }
                    
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>

    <style>
        /* Alert Messages */
        .alert {
            padding: 15px 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert i {
            font-size: 1.2rem;
        }

        /* Contact Page Specific Styles */
        .page-header {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .page-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .contact-content {
            display: grid;
            gap: 40px;
        }

        /* Contact Info Cards */
        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .info-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: flex;
            align-items: flex-start;
            gap: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .info-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .info-content h3 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .info-content p {
            margin: 0;
            color: #666;
            line-height: 1.6;
        }

        /* Contact Form Section */
        .contact-form-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 50px;
        }

        .contact-form-card, .map-card {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .contact-form-card h2, .map-card h2 {
            margin: 0 0 30px 0;
            color: #333;
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .contact-form-card h2 i, .map-card h2 i {
            color: #667eea;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .map-container {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        }

        .map-container iframe {
            display: block;
        }

        /* FAQ Section */
        .faq-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .faq-section h2 {
            margin: 0 0 30px 0;
            color: #333;
            font-size: 1.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .faq-section h2 i {
            color: #667eea;
        }

        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .faq-item {
            border: 1px solid #e1e5e9;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: #667eea;
        }

        .faq-question {
            padding: 20px;
            background: #f8f9fa;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .faq-question:hover {
            background: #e9ecef;
        }

        .faq-question h3 {
            margin: 0;
            color: #333;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .faq-question i {
            color: #667eea;
            transition: transform 0.3s ease;
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .faq-answer p {
            margin: 0;
            padding: 20px;
            color: #666;
            line-height: 1.6;
        }

        .faq-item.active .faq-question {
            background: #667eea;
            color: white;
        }

        .faq-item.active .faq-question h3 {
            color: white;
        }

        .faq-item.active .faq-question i {
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .contact-form-section {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .contact-info {
                grid-template-columns: 1fr;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .contact-form-card, .map-card, .faq-section {
                padding: 25px;
            }
        }
    </style>
</body>
</html>
